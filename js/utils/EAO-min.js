//function EAO(e,t,n,r){new sap.m.BusyDialog("busyDialog");this.domain=e;this.bJson=t;this.sUsername=n;this.sPassword=r;this.sEndPoint="";this.oServiceModel=null;this.sErrorMsg="";this.getServiceUrl(e);this.oServiceModel=new sap.ui.model.odata.ODataModel(this.sEndPoint,t,n,r)}EAO.prototype.openAlert=function(){sap.ui.commons.MessageBox.show("WARNING msg Failed to load data","WARNING","Internal Error ")};EAO.prototype.requestSentEvent=function(e){Logger.msg("Request Sent: "+e);sap.ui.getCore().byId("busyDialog").open()};EAO.prototype.requestCompletedEvent=function(e){Logger.msg("Request Completed: "+e);sap.ui.getCore().byId("busyDialog").close()};EAO.prototype.requestFailedEvent=function(e){Logger.msg("Request Failed"+JSON.stringify(e));sap.ui.getCore().byId("busyDialog").close()};EAO.prototype.getServiceUrl=function(e){try{if(window.location.hostname==="localhost"){this.sEndPoint="proxy/"+e.replace("://","/");return this.sEndPoint}else{this.sEndPoint=e;return this.sEndPoint}}catch(t){this.sErrorMsg=t}};EAO.prototype.read=function(e,t){this.requestSentEvent(e);var n={};var r=this;this.oServiceModel.read(e,null,null,true,function(i,s){r.requestCompletedEvent(e);n.model=i;n.statusCode=200;n.response=s;Logger.msg(i);t(n)},function(i){r.requestCompletedEvent(e);r.sErrorMsg=i;r.requestFailedEvent(r.sErrorMsg);n.statusCode=i.response.statusCode;n.errorModel=r.messageParse(i.response.body,null,null);t(n)})};EAO.prototype.update=function(e){this.requestSentEvent();var t={};var n=this;this.oServiceModel.create(e,null,null,true,function(r,i){n.requestCompletedEvent(e);Logger.msg(r);t.response=i;t.model=r;t.statusCode=200;return t},function(r){n.requestCompletedEvent(e);n.sErrorMsg=r;n.requestFailedEvent(n.sErrorMsg);t.statusCode=r.response.statusCode;return t})};EAO.prototype.create=function(e,t){this.requestSentEvent(e);var n={};var r=this;this.oServiceModel.create(e,t,null,null,true,function(t,i){r.requestCompletedEvent(e);Logger.msg(t);n=i;n.model=t;n.statusCode=200},function(t){r.requestCompletedEvent(e);r.sErrorMsg=t;r.requestFailedEvent(r.sErrorMsg);n.statusCode=t.response.statusCode})};EAO.prototype.messageParse=function(e,t,n){var r={};try{var i=JSON.parse(e);if(i.error.message!==undefined){r.message=i.error.message.value}if(i.error.innererror.errordetails[0]!==undefined){var s=i.error.innererror.errordetails[0];r.message=s.message;r.messageLevel=s.level;r.messageCode=s.code;r.param1=t;r.param2=n}else{r.message="errorDetail.message";r.messageLevel="errorDetail.level";r.messageCode="errorDetail.code";r.param1=null;r.param2=null}}catch(o){r.message="Error when making call to retrieve data."}return r}
function EAO(e,t,n,r){new sap.m.BusyDialog("busyDialog");this.domain=e;this.bJson=t;this.sUsername=n;this.sPassword=r;this.sEndPoint="";this.oServiceModel=null;this.sErrorMsg="";this.getServiceUrl(e);this.oServiceModel=new sap.ui.model.odata.ODataModel(this.sEndPoint,t,n,r)}EAO.prototype.openAlert=function(){sap.ui.commons.MessageBox.show("WARNING msg Failed to load data","WARNING","Internal Error ")};EAO.prototype.requestSentEvent=function(e){Logger.info("Request Sent: "+e);sap.ui.getCore().byId("busyDialog").open()};EAO.prototype.requestCompletedEvent=function(e){Logger.info("Request Completed: "+e);sap.ui.getCore().byId("busyDialog").close()};EAO.prototype.requestFailedEvent=function(e){Logger.error("Request Failed"+JSON.stringify(e));sap.ui.getCore().byId("busyDialog").close()};EAO.prototype.getServiceUrl=function(e){try{if(window.location.hostname==="localhost"){this.sEndPoint="proxy/"+e.replace("://","/");return this.sEndPoint}else{this.sEndPoint=e;return this.sEndPoint}}catch(t){this.sErrorMsg=t}};EAO.prototype.read=function(e,t){this.requestSentEvent(e);var n={};var r=this;this.oServiceModel.read(e,{context:null,urlParameters:null,async:true,success:function(i,s){r.requestCompletedEvent(e);n.model=i;n.statusCode=200;n.response=s;t(n)},error:function(i){r.requestCompletedEvent(e);r.sErrorMsg=i;r.requestFailedEvent(r.sErrorMsg);n.statusCode=i.response.statusCode;n.errorModel=r.messageParse(i.response.body,null,null);t(n)}})};EAO.prototype.update=function(e,t,n){this.requestSentEvent();var r={};var i=this;this.oServiceModel.update(e,t,{context:null,success:function(t,s){i.requestCompletedEvent(e);r.model=t;r.statusCode=200;r.response=s;n(r)},error:function(t){i.requestCompletedEvent(e);i.sErrorMsg=t;i.requestFailedEvent(i.sErrorMsg);r.statusCode=t.response.statusCode;r.errorModel=i.messageParse(t.response.body,null,null);n(r)},merge:false,async:true,urlParameters:null})};EAO.prototype.merge=function(e,t,n){this.requestSentEvent();var r={};var i=this;this.oServiceModel.update(e,t,{context:null,success:function(t,s){i.requestCompletedEvent(e);r.model=t;r.statusCode=200;r.response=s;n(r)},error:function(t){i.requestCompletedEvent(e);i.sErrorMsg=t;i.requestFailedEvent(i.sErrorMsg);r.statusCode=t.response.statusCode;r.errorModel=i.messageParse(t.response.body,null,null);n(r)},merge:true,async:true,urlParameters:null})};EAO.prototype.remove=function(e,t){this.requestSentEvent();var n={};var r=this;this.oServiceModel.remove(e,{context:null,success:function(i,s){r.requestCompletedEvent(e);n.model=i;n.statusCode=200;n.response=s;t(n)},error:function(i){r.requestCompletedEvent(e);r.sErrorMsg=i;r.requestFailedEvent(r.sErrorMsg);n.statusCode=i.response.statusCode;n.errorModel=r.messageParse(i.response.body,null,null);t(n)},async:true,urlParameters:null})};EAO.prototype.create=function(e,t,n){this.requestSentEvent(e);var r={};var i=this;this.oServiceModel.create(e,t,{context:null,success:function(t,s){i.requestCompletedEvent(e);r.model=t;r.statusCode=200;r.response=s;n(r)},error:function(t){i.requestCompletedEvent(e);i.sErrorMsg=t;i.requestFailedEvent(i.sErrorMsg);r.statusCode=t.response.statusCode;r.errorModel=i.messageParse(t.response.body,null,null);n(r)},async:true,urlParameters:null})};EAO.prototype.batchRead=function(e,t){var n="";var r=[];if(e.length>0){n=e.join()}this.requestSentEvent(n);var i={};var s=this;for(var o=0;o<e.length;o++){r.push(this.oServiceModel.createBatchOperation(e[o],"GET"))}this.oServiceModel.addBatchReadOperations(r);this.oServiceModel.submitBatch(function(e,r){s.requestCompletedEvent(n);i.model=e;i.statusCode=200;i.response=r;s.oServiceModel.clearBatch();t(i)},function(e){s.requestCompletedEvent(n);s.sErrorMsg=e;s.requestFailedEvent(s.sErrorMsg);i.statusCode=e.response.statusCode;i.errorModel=s.messageParse(e.response.body,null,null);s.oServiceModel.clearBatch();t(i)})};EAO.prototype.batchCreate=function(e,t){var n=e.uri;var r=[];this.requestSentEvent(n);var i={};var s=this;for(var o=0;o<e.data.length;o++){r.push(this.oServiceModel.createBatchOperation(n,"POST",e.data[o]))}this.oServiceModel.addBatchChangeOperations(r);this.oServiceModel.submitBatch(function(e,r){s.requestCompletedEvent(n);i.model=e;i.statusCode=200;i.response=r;s.oServiceModel.clearBatch();t(i)},function(e){s.requestCompletedEvent(n);s.sErrorMsg=e;s.requestFailedEvent(s.sErrorMsg);i.statusCode=e.response.statusCode;i.errorModel=s.messageParse(e.response.body,null,null);s.oServiceModel.clearBatch();t(i)})};EAO.prototype.batchDelete=function(e,t){var n="";var r=[];if(e.length>0){n=e.join()}this.requestSentEvent(n);var i={};var s=this;for(var o=0;o<e.length;o++){r.push(this.oServiceModel.createBatchOperation(e[o],"DELETE"))}this.oServiceModel.addBatchChangeOperations(r);this.oServiceModel.submitBatch(function(e,r){s.requestCompletedEvent(n);i.model=e;i.statusCode=200;i.response=r;s.oServiceModel.clearBatch();t(i)},function(e){s.requestCompletedEvent(n);s.sErrorMsg=e;s.requestFailedEvent(s.sErrorMsg);i.statusCode=e.response.statusCode;i.errorModel=s.messageParse(e.response.body,null,null);s.oServiceModel.clearBatch();t(i)})};EAO.prototype.messageParse=function(e,t,n){var r={};try{var i=JSON.parse(e);if(i.error.message!==undefined){r.message=i.error.message.value}if(i.error.innererror.errordetails[0]!==undefined){var s=i.error.innererror.errordetails[0];r.message=s.message;r.messageLevel=s.level;r.messageCode=s.code;r.param1=t;r.param2=n}else{r.message="errorDetail.message";r.messageLevel="errorDetail.level";r.messageCode="errorDetail.code";r.param1=null;r.param2=null}}catch(o){r.message="Error when making call to retrieve data."}return r}